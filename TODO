Policy: the rogue is someone who does things not supposed to be done

finalize the overall storyline, and sketch out the major bits needed, do the end (simplified end-to-end) then insert (then redo this todo)
	prison->sewer->graveyard->town->worldmap
	town is a dramatic break, very big, opportunity to practice, equip up, swipe stuff
		game adjusts to how much illegal done (wanted, reputation)
	reputation and faction reactions change the game
	npc chats -> quests and/or reputation / reaction changes, re-emprison (lose equip), etc
	large-scale famous acts (ie steal X's thing)
	overall has to be save the world

World
	done-place init into random geography
	done - place cities (some named and roughly placed, some completely random)
	done - place mts (noblock, or add'l cost for mt moving) - single noise fn with elevation more consistent
	done - place ice at pole
	done - remainder is plains
	place forests
	augment initial static map with additional locations - story phase one
	place volano exit place
	build out random towns, story phase two
	create and place any additional static maps (eg islands) - story phase three
	create mirror image world - story opt phase

Main storyline
	escape from prison: prison->sewer->graveyard->worldmap
	explore a bit: nearby town (Gora) with lots of opportunity
	At some point, the alarm sounds and more guards appear, searching the town
	stuck on static-start doing a few things until can tackle the volcano
	volcano allows access to other continents - have the other side be placed on the main cnt so no boat needed
	explore
		direct to init city
		init set of cities/dungeons on starting island
		volcano after above
		plotline sends to add'l places in larger world
		reveal more dungeons, not visible at start
	save the world
		defeat the minions at each city/dungeon
			undead(convert) - several tombs, several std kill ways (destroy the body, sunlight, et al.)
			force - warriors with strong armor/weapons, std military-oriented
			fear - monsters of various powers, all uniques
			greed - lots of (only) money, bribing, wierd
		defeat the big bad in Gora - power of leverage, use all above plus factions
Features
	lockpick gui
	endlessly hunted by "guards"
Quests
	starting quest - get out of the prison
	side quest - take-my-macguffin in the sewers - macguffins cannot disappear
	side quest - take-up-my sword in the prison, get the key from the secret room
	side quests - collect gold/valuables/treasures, some big ones
	side quest - assassinate

Talents
	move silent/stealth/etc (see what's in engine)
		speed while sustained
	subdue, melee/ranged (includes remote, like sleeping powder/arrows)
	kill, melee/ranged
	lift/push/pull body
	hide
	disguise -> Factions, from large/meaningless to small/secret
	listen
	pickpockets, melee/ranged
	leap to shadows
	architectural knowledge
	bribe
	traps - set
	traps - detect

add lockpick gui (remember Policy)
	picking locks quickly and efficiently - player can also "take all the time he needs" and autopick
	lock - attributes, states
		attr:
			mfctr and series
			difficulty (1-100)
			level: X named:(ward/lever/wafer/pin/rotary/tubular/disc/magnet/etc)
			mechanisms: 1-5(?)
			features: spring, reset, trap, ...
		mfctr->certain attrs, series->difficulty, certain attrs
	tools - what toolset the player has equipped
		levels are named pick, skeleton key, thieve's tools, locksmith's tools, etc
		if tool lvl < lock lvl, ++diff
	actions - what can be done
	displays mfctr - if known (successful pick -> known), display other bits
	mfctr -> rnd name, always same type: warded, (1,2,3,4,5)(wafer,pin,lever,disc)tumbler, other "tech"
	displays tools: pick, key, other?
	solve each in order - each move takes a turn (during which you cannot see the screen)
	would be nice to have gfx, or at least color-coded status
	this might work:
    if self.bg_image then
        local fill = core.display.loadImage(self.bg_image)
        local fw, fh = fill:getSize()
        self.bg_surface = core.display.newSurface(w, h)
        self.bg_surface:erase(0, 0, 0)
        for i = 0, w, fw do for j = 0, h, fh do
            self.bg_surface:merge(fill, i, j)
        end end
        self.bg_texture, self.bg_texture_w, self.bg_texture_h = self.bg_surface:glTexture()
    end

IDEAS (randomly organized):
craftsmen to build things from simpler items
enchanters to enchant things for you
fronts with milestones/consequences
have lock+unlocked=locked door
experience for: lock/unlock, pickpocket, disguise, on level-exit foreach actor that didn't see you
add Disguise talent - pass as X
add pickpocket talent - range/invisibleness, target w/in range, turn one jump to target, turn if !seen autojump back w/ loot (carefully look at when they move)
stub added: a sewers/cavern/underwater level
stub added: the graveyard levels
stub in some terrain content to graveyard levels, with an eye toward revisiting it (need keys, or high lockpick skill)
put a portal back from gora-graveyard3 to gora-prison-sewer, but appearance conditional on quest
worldmap, above plus each grid enterable (random zones, some with params (ie town set on worldmap, generate on enter))
worlmap, stub out locations (towns, cities, fortresses, keeps, towers, beast lairs, faction encampments, bandits ...)
start player with the crappiest lockpick
add content to sewer level, with an eye toward revisiting it
change/consolidate a colorscheme for grids
allow closing doors
add prisoners (dumb first)
add random prisoner chats
add / give guards directional lights
(some) corpses stick around, NPCs can recognize corpse and its faction for AI, kills affect rep/faction reactions
ability to move corpses
add pickpocket talent from X grids away (directional lights are a prereq, yes? no)
pick up quests on the way (i'm dying take my macguffin, take up my sword(mayor demon))
quest 1: Take down corrupt mayor/actually a "demon", who's part of a larger plot to, say, enslave all the <race>
actions affect later gameplay - what taken, how many killed vs knocked out, etc - eg opening cell doors
Add in light levels, lights fade with distance to limit, gfx or gfx effects for various levels
Make gold integers, not .02d
Make gems and valuables, name with "(100gp)" or "(~100gp)"
Need a fence to sell stolen
A Discovery of Witches: unknowingly let Witches loose, nice pictures
rotworms that chase
instruments - flutes, lutes, violins
armory with several nonmagical copies of all armor types

mod the player resources / stats / thief talents needed for game
resources: air
stats: stealth?  Dex, str, con, chr, int (for lore? player provides int, call it something else)
attrs: reputation
talents: lockpick (tool use), pickpocket, hide, move silent, knockout, find mechanisms/disarm traps, climb, shoot, force lock
backstab(bonus on attacks if target unaware, includes shoot), poison weapon (temporary), poison target (?)
flash bombs (disablers), noisemakers (distractors), smoke bomb (both), disguise, fake death?
resist charms, confuse, poison, etc;, Evade, Dodge, Tumble, Leap, appraise, Negotiate, bluff
unarmed combat (weapons make noise, implement noise) - silencing strike, sleeper hold, etc
equipments: normal and special arrows, poison, climbing equip (rope, claws, maybe sideways view)

done: put in several more dungeon levels
done: add in lockpicks / thieves tools as objects
done: test/add ability to equip them
done: add locked doors
done: add ability for lockpick to work
done: put locked doors in dungeon
done: add flyingtext Unlock on unlock
done - add in static lights for torches/brazziers - make them Actors (so they can be shot/"killed")
done, but should redo tied to quests: add in text popups to sewer and graveyard
done put a town near the graveyard (need a dramatic break)
done: make lockpick talent (passive, requires tool use)
done: make lockpick talent a starting talent
done: make lockpicks add to existing talent
done (doors): make doors have a lockpick value (mechanisms/levers, too)
done: worldmap, static stub
done: worldmap, static piece in stub random world generator 
