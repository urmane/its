This is the todo list, currently divided into:
- sprints (roughly related items for minor version rev)
- semi-organized lists of item details

Sprints:
- enhance town
	- keys and keyed doors; door to Caste Kurtok keyed
	- add gold bricks gfx
	- pile guarded in castle by elite guards - treasury
	- keyed door - armory
	- keyed doors - empties for later
- NPC facing indicator
- NPC suspicion indicator (green-yellow-red, high alpha?)
- Awareness / AI tied to suspicion flag
- qt5 + tiled (after 1.4 released)
- scripts to copy/mod colors in gfx, then move gfx to "src" and script mods to final dests (mostly terrain?)
- move from lit/not lit grids to variable - might be much work
- Player visibility indicator
- AI - assure they change state normal/suspcious/active, then back down if not directly viewing - careful considering the back to normal shift
- Sound - on Player:move, same precomp'd dist array as vis, if n > e.hearing then e.ai_suspicion++
- Smell - leaves a trail that decays (but never goes to zero) - ai can search surrounding grids for vals

Semi-Organized todo:
High level
finalize the overall storyline, and sketch out the major bits needed, do the end (simplified end-to-end) then insert (then redo this todo)
	prison->sewer->graveyard->town->worldmap
	town is a dramatic break, very big, opportunity to practice, equip up, swipe stuff
		game adjusts to how much illegal done (wanted, reputation)
	reputation and faction reactions change the game
	npc chats -> quests and/or reputation / reaction changes, re-emprison (lose equip), etc
	large-scale famous acts (ie steal X's thing)
	overall has to be save the world

World/General:
worldmap, underworld, undersea - all "worldmaps", each with zones (that might connect to >1 worldmap)
make a config settings?
done-place init into random geography
done - place cities (some named and roughly placed, some completely random)
done - place mts (noblock, or add'l cost for mt moving) - single noise fn with elevation more consistent
done - place ice at pole
done - remainder is plains
done - place forests
augment initial static map with additional locations - story phase one
At some point, the alarm sounds and more guards appear, searching the town
done - place volano exit place (then change terrains back to blocking)
done - add player stats (use LA?) and update display
done - add talent/trees
done - give player starting talents by class
give player starting equip by class
add lots of weapons/armor, make sure they're leveled somehow
add lots of monsters, look for a way to organize(genus/species/etc)/and conf-file/table them for easy input
done - add gems
done - find a way to add variable coins
done(sorta) - add randomly priced-ID'd jewelry/art ...
done(fences only)add stores to sell treasures
build out random towns, story phase two
create and place any additional static maps (eg islands) - story phase three
create mirror image world - story opt phase

Main Storyline:
inita
	done - escape from prison: prison->sewer->graveyard->worldmap
	init set of cities/dungeons on starting island
	gain some skills
Nature selects you as champion for this world
Gain the power of the elements
	Murmon, earth
	Tomb, allows access to volcano
	Fire, volcano, then underworld, access to world
	allows access to Gora Graveyard 2, defeat the undead/earth elemental X
	water, mirror image, free travel
	gora sewers defeat the water x
Defeat the minions
	undead(convert) - several tombs, several std kill ways (destroy the body, sunlight, et al.)
	fear - monsters of various powers, all uniques
	greed - lots of (only) money, bribing, wierd
	force - warriors with strong armor/weapons, std military-oriented
Defeat the big bad
	big bad escapes into Castle Kurtok; chase him through rando zones, maybe across the world
Optionals:
	Famous locations/bosses to do tasks at; steal an X, do the thing ...

Sounds to record:
done - understand playSoundNear - appears to be for playing sounds at !player-location
guards: random "Hum", "Hah", sigh, whistle
guards: on_aware "Hey!", "You!", "Stop!", "Freeze!"
zombie: random "rrr"  "Rrrrr", etc
zombie: on_aware "RRR!"
torch,brazier: random, sparks?

NPCs:

Features:
done - directional cone lights / LOS, to allow sneak up behind
done - speed changes by ai state
lockpick gui
endlessly hunted by "guards"

Quests:
done - starting quest - get out of the prison
done: side quest - take-my-macguffin in the sewers - macguffins cannot disappear -> elemental quest
done: assign elemental quests
earth quest - Murmon
earth-subsequent - after earth, return to Gora Graveyard to defeat the undead/earth elemental/whatever
tomb dungeon - allows access to volcano
fire quest - volcano, allows access to world
water quest - undersea mirror image map
water-subsequent - after water, return to Gora Sewers to defeat the x
air quest - 
side quest - take-up-my sword in the prison, get the key from the secret room
side quests - collect gold/valuables/treasures, some big ones
side quest - assassinate

Talents
sync with data in data/talents
category:talent
trap:detect:sustained
trap:set:active
stealth:hide
stealth:dodge
stealth:move silent
awareness:vision
awareness:awareness (thruwalls)
assassin:killing blow
distract:phantom noise
distract:phantom movement
prestidigitation:pick pockets
mechanic:pick locks

done: hide
	move silent/stealth/etc (see what's in engine)
		speed while sustained
	subdue, melee/ranged (includes remote, like sleeping powder/arrows)
	kill, melee/ranged
	lift/push/pull body
	hide
	disguise -> Factions, from large/meaningless to small/secret
	listen
	pickpockets, melee/ranged
	leap to shadows
	architectural knowledge
	bribe
	traps - set
	traps - detect

add lockpick gui (remember Policy)
	picking locks quickly and efficiently - player can also "take all the time he needs" and autopick
	lock - attributes, states
		attr:
			mfctr and series
			difficulty (1-100)
			level: X named:(ward/lever/wafer/pin/rotary/tubular/disc/magnet/etc)
			mechanisms: 1-5(?)
			features: spring, reset, trap, ...
		mfctr->certain attrs, series->difficulty, certain attrs
	tools - what toolset the player has equipped
		levels are named pick, skeleton key, thieve's tools, locksmith's tools, etc
		if tool lvl < lock lvl, ++diff
	actions - what can be done
	displays mfctr - if known (successful pick -> known), display other bits
	mfctr -> rnd name, always same type: warded, (1,2,3,4,5)(wafer,pin,lever,disc)tumbler, other "tech"
	displays tools: pick, key, other?
	solve each in order - each move takes a turn (during which you cannot see the screen)
	would be nice to have gfx, or at least color-coded status
	this might work:
    if self.bg_image then
        local fill = core.display.loadImage(self.bg_image)
        local fw, fh = fill:getSize()
        self.bg_surface = core.display.newSurface(w, h)
        self.bg_surface:erase(0, 0, 0)
        for i = 0, w, fw do for j = 0, h, fh do
            self.bg_surface:merge(fill, i, j)
        end end
        self.bg_texture, self.bg_texture_w, self.bg_texture_h = self.bg_surface:glTexture()
    end

done: the graveyard levels
done - start player with the crappiest lockpick
done - add prisoners (dumb first)
done - add random prisoner chats
done - add / give guards directional lights
done - Add in light levels, lights fade with distance to limit, gfx or gfx effects for various levels
done - Make gold integers, not .02d
halfdone - Make gems and valuables, name with "(100gp)" or "(~100gp)"
done-ish - Need a fence to sell stolen
done: put in several more dungeon levels
done: add in lockpicks / thieves tools as objects
done: test/add ability to equip them
done: add locked doors
done: add ability for lockpick to work
done: put locked doors in dungeon
done: add flyingtext Unlock on unlock
done - add in static lights for torches/brazziers - make them Actors (so they can be shot/"killed")
done, but should redo tied to quests: add in text popups to sewer and graveyard
done put a town near the graveyard (need a dramatic break)
done: make lockpick talent (passive, requires tool use)
done: make lockpick talent a starting talent
done: make lockpicks add to existing talent
done (doors): make doors have a lockpick value (mechanisms/levers, too)
done: worldmap, static stub
done: worldmap, static piece in stub random world generator 
